"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[593],{9593:function(e,t,r){r.r(t),r.d(t,{default:function(){return O}});var n=r(1413),a=r(703),o=r(3767),i=r(890),s=r(5861),d=r(885),c=r(7757),l=r.n(c),u=r(6228),p=r(4836),v=r(4265),f=r(3044),m=r(6151),Z=r(7621),h=r(9585),x=r(9504),b=r(3366),g=r(7462),y=r(2791),j=r(8182),w=r(767),C=r(7630),M=r(3736),k=r(5159);function S(e){return(0,k.Z)("MuiCardActions",e)}(0,r(208).Z)("MuiCardActions",["root","spacing"]);var R=r(184),N=["disableSpacing","className"],V=(0,C.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,!r.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,g.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),P=y.forwardRef((function(e,t){var r=(0,M.Z)({props:e,name:"MuiCardActions"}),n=r.disableSpacing,a=void 0!==n&&n,o=r.className,i=(0,b.Z)(r,N),s=(0,g.Z)({},r,{disableSpacing:a}),d=function(e){var t=e.classes,r={root:["root",!e.disableSpacing&&"spacing"]};return(0,w.Z)(r,S,t)}(s);return(0,R.jsx)(V,(0,g.Z)({className:(0,j.Z)(d.root,o),ownerState:s,ref:t},i))})),T=r(3060),H=r(3400),z=r(5193),A=r(3504),F=r(1768),B=r(3892),L=function(e){var t=e._id,r=e.author,n=e.upvotes,a=e.body,c=e.numberOfComments,b=e.community,g=e.createdAt,j=e.revalidate,w=(0,B.aF)().token,C=(0,z.Z)((function(e){return e.breakpoints.up("sm")})),M=(0,y.useState)(!1),k=(0,d.Z)(M,2),S=k[0],N=k[1],V=(0,y.useState)({upVote:!1,downVote:!1}),L=(0,d.Z)(V,2),W=L[0],I=L[1],O=function(){var e=(0,s.Z)(l().mark((function e(r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.currentTarget.dataset.vote)){e.next=10;break}if("upVote"!==n){e.next=9;break}return e.next=5,F.bl.patch("posts/".concat(t,"/upvote"),void 0,{headers:{Authorization:"Bearer ".concat(w)}});case 5:null===j||void 0===j||j(),I((function(e){return{upVote:!e.upVote,downVote:!1}})),e.next=10;break;case 9:I((function(e){return{upVote:!1,downVote:!e.downVote}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)(Z.Z,{variant:"outlined",sx:{p:C?1:0},children:[(0,R.jsx)(h.Z,{avatar:(0,R.jsx)(f.Z,{sx:{bgcolor:"rgb(255, 0, 0)"},"aria-label":"recipe",children:null===b||void 0===b?void 0:b.charAt(0).toUpperCase()}),action:(0,R.jsx)(H.Z,{sx:{color:function(e){return e.customPalette.navyBlue}},"aria-label":S?"remove post from saved":"save post",onClick:function(){return N(!S)},children:S?(0,R.jsx)(u.Z,{}):(0,R.jsx)(v.Z,{})}),title:b,subheader:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("span",{style:C?void 0:{width:80,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:null===r||void 0===r?void 0:r.profile.fullName}),(0,R.jsx)("span",{children:"\u2022"}),(0,R.jsx)("span",{children:g})]}),titleTypographyProps:{fontWeight:500,variant:"h6"},subheaderTypographyProps:{sx:{display:"flex",gap:1}}}),(0,R.jsxs)(o.Z,{direction:"row",ml:2,children:[(0,R.jsxs)(o.Z,{alignItems:"center",children:[(0,R.jsx)(H.Z,{size:"small",color:W.upVote?"secondary":"default","aria-label":"up vote","data-vote":"upVote",onClick:O,children:(0,R.jsx)(p.Z,{fontSize:"small",transform:"rotate(-90)"})}),(0,R.jsx)(i.Z,{variant:"caption",children:n}),(0,R.jsx)(H.Z,{size:"small",color:W.downVote?"secondary":"default","aria-label":"down vote","data-vote":"downVote",onClick:O,children:(0,R.jsx)(p.Z,{fontSize:"small",transform:"rotate(90)"})})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)(x.Z,{sx:{py:.5},children:(0,R.jsx)(T.Z,{component:A.rU,to:"/feed/".concat(t),color:"textSecondary",underline:"none",children:a})}),(0,R.jsx)(P,{children:(0,R.jsx)(m.Z,{variant:"text",component:A.rU,to:"/feed/".concat(t,"#comments"),children:c?(0,R.jsxs)(R.Fragment,{children:["Comments (",c,")"]}):(0,R.jsx)(R.Fragment,{children:"No comments yet"})})})]})]})]})},W=r(1426),I=r(1731),O=function(){var e=(0,B.aF)().token,t=(0,W.ZP)(e?["posts",e]:null,I._i),r=t.data,s=t.mutate;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(a.Z,{square:!0,variant:"outlined",sx:{px:3,py:1.5,maxWidth:function(e){return e.breakpoints.values.md}},children:(0,R.jsx)(i.Z,{variant:"h5",fontWeight:500,component:"h1",children:"Feed"})}),(0,R.jsx)(o.Z,{spacing:2,maxWidth:function(e){return e.breakpoints.values.md},sx:{"& .MuiPaper-rounded:first-of-type":{borderTopLeftRadius:0,borderTopRightRadius:0}},children:null===r||void 0===r?void 0:r.map((function(e){return(0,R.jsx)(L,(0,n.Z)((0,n.Z)({},e),{},{revalidate:s}),e._id)}))})]})}},6228:function(e,t,r){var n=r(5318);t.Z=void 0;var a=n(r(5649)),o=r(184),i=(0,a.default)((0,o.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"}),"Bookmark");t.Z=i},4265:function(e,t,r){var n=r(5318);t.Z=void 0;var a=n(r(5649)),o=r(184),i=(0,a.default)((0,o.jsx)("path",{d:"M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"}),"BookmarkBorderOutlined");t.Z=i},4836:function(e,t,r){var n=r(5318);t.Z=void 0;var a=n(r(5649)),o=r(184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 8V4l8 8-8 8v-4H4V8z"}),"Forward");t.Z=i},7621:function(e,t,r){r.d(t,{Z:function(){return Z}});var n=r(7462),a=r(3366),o=r(2791),i=r(8182),s=r(767),d=r(7630),c=r(3736),l=r(703),u=r(5159);function p(e){return(0,u.Z)("MuiCard",e)}(0,r(208).Z)("MuiCard",["root"]);var v=r(184),f=["className","raised"],m=(0,d.ZP)(l.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),Z=o.forwardRef((function(e,t){var r=(0,c.Z)({props:e,name:"MuiCard"}),o=r.className,d=r.raised,l=void 0!==d&&d,u=(0,a.Z)(r,f),Z=(0,n.Z)({},r,{raised:l}),h=function(e){var t=e.classes;return(0,s.Z)({root:["root"]},p,t)}(Z);return(0,v.jsx)(m,(0,n.Z)({className:(0,i.Z)(h.root,o),elevation:l?8:void 0,ref:t,ownerState:Z},u))}))},9504:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(7462),a=r(3366),o=r(2791),i=r(8182),s=r(767),d=r(7630),c=r(3736),l=r(5159);function u(e){return(0,l.Z)("MuiCardContent",e)}(0,r(208).Z)("MuiCardContent",["root"]);var p=r(184),v=["className","component"],f=(0,d.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),m=o.forwardRef((function(e,t){var r=(0,c.Z)({props:e,name:"MuiCardContent"}),o=r.className,d=r.component,l=void 0===d?"div":d,m=(0,a.Z)(r,v),Z=(0,n.Z)({},r,{component:l}),h=function(e){var t=e.classes;return(0,s.Z)({root:["root"]},u,t)}(Z);return(0,p.jsx)(f,(0,n.Z)({as:l,className:(0,i.Z)(h.root,o),ownerState:Z,ref:t},m))}))},9585:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(4942),a=r(3366),o=r(7462),i=r(2791),s=r(8182),d=r(767),c=r(890),l=r(3736),u=r(7630),p=r(5159);function v(e){return(0,p.Z)("MuiCardHeader",e)}var f=(0,r(208).Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),m=r(184),Z=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],h=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var r;return(0,o.Z)((r={},(0,n.Z)(r,"& .".concat(f.title),t.title),(0,n.Z)(r,"& .".concat(f.subheader),t.subheader),r),t.root)}})({display:"flex",alignItems:"center",padding:16}),x=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),b=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),g=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),y=i.forwardRef((function(e,t){var r=(0,l.Z)({props:e,name:"MuiCardHeader"}),n=r.action,i=r.avatar,u=r.className,p=r.component,f=void 0===p?"div":p,y=r.disableTypography,j=void 0!==y&&y,w=r.subheader,C=r.subheaderTypographyProps,M=r.title,k=r.titleTypographyProps,S=(0,a.Z)(r,Z),R=(0,o.Z)({},r,{component:f,disableTypography:j}),N=function(e){var t=e.classes;return(0,d.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},v,t)}(R),V=M;null==V||V.type===c.Z||j||(V=(0,m.jsx)(c.Z,(0,o.Z)({variant:i?"body2":"h5",className:N.title,component:"span",display:"block"},k,{children:V})));var P=w;return null==P||P.type===c.Z||j||(P=(0,m.jsx)(c.Z,(0,o.Z)({variant:i?"body2":"body1",className:N.subheader,color:"text.secondary",component:"span",display:"block"},C,{children:P}))),(0,m.jsxs)(h,(0,o.Z)({className:(0,s.Z)(N.root,u),as:f,ref:t,ownerState:R},S,{children:[i&&(0,m.jsx)(x,{className:N.avatar,ownerState:R,children:i}),(0,m.jsxs)(g,{className:N.content,ownerState:R,children:[V,P]}),n&&(0,m.jsx)(b,{className:N.action,ownerState:R,children:n})]}))}))}}]);
//# sourceMappingURL=593.d5453395.chunk.js.map