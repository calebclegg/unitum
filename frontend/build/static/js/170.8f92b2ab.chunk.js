"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[170],{7170:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(885),o=t(2791),i=t(7563),a=t(8956),s=t(9723),c=t(184);function u(e){return e.substring(2).toLowerCase()}var l=function(e){var n=e.children,t=e.disableReactTree,r=void 0!==t&&t,l=e.mouseEvent,d=void 0===l?"onClick":l,f=e.onClickAway,v=e.touchEvent,m=void 0===v?"onTouchEnd":v,h=o.useRef(!1),p=o.useRef(null),E=o.useRef(!1),b=o.useRef(!1);o.useEffect((function(){return setTimeout((function(){E.current=!0}),0),function(){E.current=!1}}),[]);var Z=(0,i.Z)(n.ref,p),g=(0,a.Z)((function(e){var n=b.current;b.current=!1;var t=(0,s.Z)(p.current);!E.current||!p.current||"clientX"in e&&function(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}(e,t)||(h.current?h.current=!1:(e.composedPath?e.composedPath().indexOf(p.current)>-1:!t.documentElement.contains(e.target)||p.current.contains(e.target))||!r&&n||f(e))})),x=function(e){return function(t){b.current=!0;var r=n.props[e];r&&r(t)}},L={ref:Z};return!1!==m&&(L[m]=x(m)),o.useEffect((function(){if(!1!==m){var e=u(m),n=(0,s.Z)(p.current),t=function(){h.current=!0};return n.addEventListener(e,g),n.addEventListener("touchmove",t),function(){n.removeEventListener(e,g),n.removeEventListener("touchmove",t)}}}),[g,m]),!1!==d&&(L[d]=x(d)),o.useEffect((function(){if(!1!==d){var e=u(d),n=(0,s.Z)(p.current);return n.addEventListener(e,g),function(){n.removeEventListener(e,g)}}}),[g,d]),(0,c.jsx)(o.Fragment,{children:o.cloneElement(n,L)})},d=t(1703),f=t(8029),v=t(3466),m=t(3199),h=t(7012),p=t(1768),E=(0,o.lazy)((function(){return Promise.all([t.e(855),t.e(996)]).then(t.bind(t,7996))})),b=function(){var e=(0,o.useRef)(null),n=(0,o.useState)(null),t=(0,r.Z)(n,2),i=t[0],a=t[1],s=(0,o.useState)(""),u=(0,r.Z)(s,2),b=u[0],Z=u[1],g=function(){return a(null)},x=function(e){if(e.target){var n=document.querySelectorAll("#search-container *");Array.from(n).includes(e.target)||g()}};return(0,o.useEffect)((function(){return i?document.addEventListener("focus",x,!0):document.removeEventListener("focus",x,!0),function(){return document.removeEventListener("focus",x,!0)}}),[i]),(0,c.jsx)(h.Z,{theme:p.Wb,children:(0,c.jsx)(l,{onClickAway:g,children:(0,c.jsxs)("div",{id:"search-container",children:[(0,c.jsx)(f.Z,{ref:e,id:"search-combo-box",type:"search",onFocus:function(){return a(e.current)},onChange:(0,m.Z)((function(e){Z(e.target.value)}),600),startAdornment:(0,c.jsx)(v.Z,{position:"start",children:(0,c.jsx)(d.Z,{color:"action",fontSize:"small"})}),autoComplete:"off",inputProps:{role:"combobox",placeholder:"Search for posts, users and communities","aria-owns":"search-result","aria-label":"Search for posts, users and communities","aria-expanded":Boolean(i)},sx:{width:i?400:300,bgcolor:i?"#fffa":"#fff5",transition:function(e){var n=e.transitions;return n.create(["background-color","width"],{easing:n.easing.easeOut,duration:n.duration.short})},"& .MuiOutlinedInput-input":{py:1,color:function(e){return e.palette.grey[800]}}}}),(0,c.jsx)(o.Suspense,{fallback:(0,c.jsx)("div",{}),children:(0,c.jsx)(E,{anchorEl:i,query:b})})]})})})}},3466:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(4942),o=t(3366),i=t(7462),a=t(2791),s=t(8182),c=t(767),u=t(4036),l=t(890),d=t(3840),f=t(2930),v=t(7630),m=t(5159);function h(e){return(0,m.Z)("MuiInputAdornment",e)}var p=(0,t(208).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),E=t(3736),b=t(184),Z=["children","className","component","disablePointerEvents","disableTypography","position","variant"],g=(0,v.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["position".concat((0,u.Z)(t.position))],!0===t.disablePointerEvents&&n.disablePointerEvents,n[t.variant]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:n.palette.action.active},"filled"===t.variant&&(0,r.Z)({},"&.".concat(p.positionStart,"&:not(.").concat(p.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),x=a.forwardRef((function(e,n){var t=(0,E.Z)({props:e,name:"MuiInputAdornment"}),r=t.children,v=t.className,m=t.component,p=void 0===m?"div":m,x=t.disablePointerEvents,L=void 0!==x&&x,y=t.disableTypography,j=void 0!==y&&y,P=t.position,S=t.variant,w=(0,o.Z)(t,Z),R=(0,f.Z)()||{},k=S;S&&R.variant,R&&!k&&(k=R.variant);var A=(0,i.Z)({},t,{hiddenLabel:R.hiddenLabel,size:R.size,disablePointerEvents:L,position:P,variant:k}),C=function(e){var n=e.classes,t=e.disablePointerEvents,r=e.hiddenLabel,o=e.position,i=e.size,a=e.variant,s={root:["root",t&&"disablePointerEvents",o&&"position".concat((0,u.Z)(o)),a,r&&"hiddenLabel",i&&"size".concat((0,u.Z)(i))]};return(0,c.Z)(s,h,n)}(A);return(0,b.jsx)(d.Z.Provider,{value:null,children:(0,b.jsx)(g,(0,i.Z)({as:p,ownerState:A,className:(0,s.Z)(C.root,v),ref:n},w,{children:"string"!==typeof r||j?(0,b.jsxs)(a.Fragment,{children:["start"===P?(0,b.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,r]}):(0,b.jsx)(l.Z,{color:"text.secondary",children:r})}))})}))}}]);
//# sourceMappingURL=170.8f92b2ab.chunk.js.map